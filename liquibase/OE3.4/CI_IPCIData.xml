<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9 http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">
	<!-- Data specific to CDI IPCI labs -->
	<changeSet author="paulsc" id="1" context="CI_IPCI">
		<comment>inserts parasites into the dictionary</comment>
        <insert tableName="dictionary_category">
            <column name="id" valueNumeric=" nextval( 'dictionary_category_seq' ) "/>
            <column name="description" value="Possible parasites" />
            <column name="lastupdated" valueDate=" now() " />
            <column name="local_abbrev" value="parasite" />
            <column name="name" value="parasite" />
        </insert>
        <sqlFile path="OE3.4/IPCI_Parasites.sql" />
	</changeSet>
    <changeSet id="2" author="paulsc" context="CI_IPCI">
        <comment>Activates sample type of Variable</comment>
        <update tableName="type_of_sample" >
            <column name="is_active" value="Y" />
            <where>local_abbrev = 'Variable'</where>
        </update>
    </changeSet>
    <changeSet id="3" author="paulsc" context="CI_IPCI">
        <comment>Adds dictionary_categories and values for variable sample types</comment>
        <insert tableName="dictionary_category">
            <column name="id" valueNumeric=" nextval( 'dictionary_category_seq' ) " />
            <column name="description" value="LCR sample type set 1" />
            <column name="lastupdated" valueDate=" now() " />
            <column name="local_abbrev" value="LCR set 1" />
            <column name="name" value="LCR set 1"/>
        </insert>
        <sqlFile path="OE3.4/LCRDictionary1.sql" />
        <insert tableName="dictionary_category">
            <column name="id" valueNumeric=" nextval( 'dictionary_category_seq' ) " />
            <column name="description" value="LCR sample type set 2" />
            <column name="lastupdated" valueDate=" now() " />
            <column name="local_abbrev" value="LCR set 2" />
            <column name="name" value="LCR set 2"/>
        </insert>
        <sqlFile path="OE3.4/LCRDictionary2.sql" />
        <insert tableName="dictionary_category">
            <column name="id" valueNumeric=" nextval( 'dictionary_category_seq' ) " />
            <column name="description" value="Biopsy sample type set 1" />
            <column name="lastupdated" valueDate=" now() " />
            <column name="local_abbrev" value="Biopsy 1" />
            <column name="name" value="Biopsy set 1"/>
        </insert>
        <sqlFile path="OE3.4/BiopsyDictionary1.sql" />
    </changeSet>
    <include file="OE3.4/testCatalogCI_IPCI/testCatalogUpdate.xml" />
</databaseChangeLog>
